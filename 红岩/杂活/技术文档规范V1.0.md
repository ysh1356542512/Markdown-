# 掌上重邮 技术文档编写规范 V1.0

### 写在前面

* 技术文档占`40+%`补贴的比重
* 所有文档请采用`markdowm`编写
* 此文档仅提供参考，如果发现实际中很难实现可以考虑适当削减
* 此文档在最终定稿前会持续更新，请注意消息通知

## 正式开发之前

### 文档1：需求复述文档

此模块是为了**确保开发者理解的需求和产品**的规划一致，如果语言表述起来比较麻烦，可以考虑软件或手绘流程图来描述大致流程

需求复述着重于两个部分

* UI显示逻辑
* 产品功能逻辑

> 绘制流程图参考软件：`Visio`，`Xmind`，`draw.io`(在线绘制，可以同步到`github`)

在完成此功能之后，提交产品验收，在产品校对无误之后，再投入下一阶段开发

> 注意事项：
>
> * 如果多人合作的话，只需要复述自己部分的逻辑即可
> * 如果项目较大，可以先复述一部分功能，之后优先着眼于已经复述的部分进行开发

### 文档2：接口文档

在明确需求之后，可以开始书写自己需求部分的接口文档。下面是一个接口的样例文档

功能描述：登录接口

请求参数：

| 字段名    | 数据类型 | 字段描述 |
| --------- | -------- | -------- |
| `stu_num` | `String` | 学号     |
| `id_num`  | `String` | 密码     |

返回json示例：

```json
{
    "data": {
        "refreshToken": "eb1aabbf70a68bb8d014d",
        "token": "eyJjb2xsZWdlzw=="
    },
    "status": "10000"
}
```

> 注意事项
>
> * 一般来讲，数据类型只用规定以下几种
>
>   · `int`  ·`flooat\double` ·`日期`("2005-02-22T16:18:00.852-08:00") ·`long`(时间戳) ·`string`
>
> * 根据后端规范，字段名建议采用下划线
>
> * 此接口文档不作为开发的参考接口文档使用，正式的接口文档由后端提供

### 文档3：数据流文档

此文档需要描述流入（来自网络接口或本地数据库）本页面的数据以及流出的数据（上传到服务器或者流出到其他界面），只需描述大体数据流向关系即可，不用精确到具体函数。

### 文档4(可选)：第三方库调研文档

如果需要使用第三方库，请在文档中给出以下描述

* 使用第三方库的原因。下面是参考原因：
  * 用此第三方库实现功能相较于自己实现更稳定可靠。
  * 功能过于复杂，超出可处理范围。
* 进行初步调研，给出调研结果。需要做的事情如下
  * 在文档中注明start数，follow数，以及主观感受上是否主流，作者是否会持续维护
  * 调研时需要整体走一遍上线流程，并在测试功能，包括但不限于：混淆打包，热修复。文档应给出这些阶段的测试是否通过
  * 给出此库的模块覆盖范围，确保此库被最少的模块依赖
  * 自己试用该第三方库，写出demo，在文档中附上此demo的GitHub链接

之后就可以正式开始开发了

## 开发完成之后

### 文档4：项目设计文档

此文档以UML图为主（如果不会可以用流程图代替展示，但是要抓紧去学，流程图只是过渡期的折中产物），并添加文字作为图的注释，诸如界面构建思路、功能复杂的函数的解释（必要时可添加伪代码）

此文档旨在描述不同模块之间的关系，比如：两模块之间的函数调用关系，数据流向等。

下为例

![image-20210731130843660](https://github.com/RayleighZ/ImageBed/blob/master/image-20210731130843660.png?raw=true) 

> 较为简单（一眼就能看出来的）就不用写了，把精力投入进复杂模块和复杂函数上面

